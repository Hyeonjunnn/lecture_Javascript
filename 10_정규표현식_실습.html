<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입 폼</title>
    <style>
        .hint {
            color: gray;
            padding-left: 10px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <h2>회원가입 폼</h2>
    <form>
        <label for="userId">아이디 : </label>
        <input type="text" name="userId" id="userId" required>
        <br>
        <span class="hint">영문자, 숫자 포함하여 총 4 ~ 12자로 입력하시오. 단, 첫 글자는 반드시 소문자로</span>

        <br><br>

        <label for="userPwd1">비밀번호 : </label>
        <input type="password" name="userPwd1" id="userPwd1" required>
        <br>
        <span class="hint">영문자, 숫자, 특수문자 포함하여 총 5 ~ 15자로 입력하시오.</span>

        <br><br>

        <label for="userPwd2">비밀번호 확인 : </label>
        <input type="password" id="userPwd2" required>
        <br>
        <span class="hint">위의 비밀번호와 일치하게 입력하시오.</span>

        <br><br>

        <label for="userName">이름 : </label>
        <input type="text" name="userName" id="userName" required>
        <br>
        <span class="hint">한글로만 이루어져야 되며 2글자 이상으로 입력하시오.</span>

        <br><br>

        <label for="email">이메일 : </label>
        <input type="text" name="email" id="email" required>
        <br>
        <span class="hint">이메일 형식에 맞춰서 입력하시오.</span>

        <br><br>

        <input type="submit" value="회원가입" onclick="return validate();">
        <input type="reset" value="다시 입력">
    </form>

    <script>
        function validate() {
            let userId = document.getElementById('userId');
            let userPwd1 = document.getElementById('userPwd1');
            let userPwd2 = document.getElementById('userPwd2');
            let userName = document.getElementById('userName');
            let email = document.getElementById('email');

            if (!check(/^[a-z][a-z\d]{3,11}$/, userId.value, '유효한 아이디가 아닙니다.')) {
                return false;
            }

            // if (userPwd1.value == userPwd2.value) {
            //     console.log('userPwd');
            //     if (!check(/[a-zA-Z]{4,14}$/, userPwd1.value, '유효한 비밀번호가 아닙니다.')) {
            //         return false;
            //     }    
            // } else {
            //     console.log('userPwd');

            //     alert('유효한 비밀번호가 아닙니다.');
            // }

            if (!check(/^[가-힣]*$/, userName.value, '유효한 이름이 아닙니다.')) {
                console.log('useName');

                return false;
            }

            if (!check(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+$/, email.value, '유효한 이메일이 아닙니다.')) {
                console.log('email');

                return false;
            }

            return true;
        }

        function check(regExp, value, msg) {

            if(!regExp.test(value)) {
                alert(msg);

                return false;
            }

        }

    </script>
</body>
</html>